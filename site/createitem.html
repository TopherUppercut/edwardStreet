<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<link rel="stylesheet" type="text/css" href="style.css" />
<title>Edward Street</title>
<script type="text/javascript" src="js/jquery.js"></script>
<script type="text/javascript" src="js/jquery-1.2.6.min.js"></script>
<script type="text/javascript" src="js/validation.js"></script>
<script type="text/javascript">
    document.addEventListener("DOMContentLoaded", function (event) {

        document.getElementById("savBtn").addEventListener("click", function (event) {

            // input elements
            var $inputs = $('#page :input');
            // div space for message
            var $msgs = $('#page').children("div");
            // array holding $inputs 
            var values = [];
            // array holding $msgs
            var displays = [];
            // initializing string for use in .each for $msgs and $inputs
            var string1, string2;
            // int variables used to iterate in .each for $msgs and $inputs 
            var i = 0;
            var j = 0;

            // gets each $msg element and pushes to array called displays
            $msgs.each(function () {

                string2 = $msgs.get(j).tagName;
                j = j + 1;
                var text2 = $(this).attr('id');
                displays.push(text2);
            });
            
            // gets each $inputs element and pushes to array called values
            $inputs.each(function () {
                string1 = $inputs.get(i).tagName;
                i = i + 1;
                var text = $(this).attr('id');
                values.push(text);
            });

            // each validation to validate certain rules
            validation = window.edwardValidationRequired;
            validation3 = window.edwardValidationNumber;

            // used for individual validation
            var numField = $("#price").val();

            // array for storing fields that are empty
            var getBadArray = [];
            
            // Adds each input element that is empty
            // to an array that stores inputs that are empty
            $inputs.each(function () {
                if ($(this).val().length == 0) {
                    txt = $(this).attr('id');
                    getBadArray.push(txt);
                }
            });

// For loop to determine each input box by calling validateGeneral
// and checking each input box whether it is part of the array that
// holds empty textboxes
    for (var i = 0; i < displays.length; i++) {
        if (validation.validateGeneral(values) || jQuery.inArray(values[i], getBadArray) == -1) {
            $('#' + displays[i]).html("RIGHT");
        }
        else {
            $('#' + displays[i]).html("Missing required field");
        }       
    }
                
                // validate the number field
                if (validation3.validateNumber(numField)) {
                    $('#numValid').html("Correct number");
                }
                else {
                    $('#numValid').html("Not a number, also needs dollar sign!");
                }

        }, false);

        $('#nav li').hover(
		function () {
		    //show its submenu
		    $('ul', this).show();
		},
		function () {
		    //hide its submenu
		    $('ul', this).hide();
		}
	);

}, false);

$(window).scroll(function () {
    if ($(window).scrollTop() > $(".scrollTrigger").offset({ scroll: false }).top) {
        $("#header").css("position", "fixed");
        $("#header").css("top", "0");
        $("#menu").css("position", "fixed");
        $("#menu").css("left", "379px");
        $("#menu").css("bottom", "440px");
    }
    // Revert back to normal
    if ($(window).scrollTop() <= $(".scrollTrigger").offset({ scroll: false }).top) {
        $("#header").css("position", "relative");
        $("#header").css("top", $(".scrollTrigger").offset);
        $("#menu").css("position", "relative");
        $("#menu").css("top", $(".scrollTrigger").offset);
        $("#menu").css("left", "0px");
        $("#menu").css("bottom", "0px");
    }
});
</script>
</head>

<body>
  <div id="header">
    <div id="logo">
      <h1><a href="index.html">Edward Street</a></h1>
    </div>
    <p class="textright"><a class="textright" href="login.html">Log in</a></p>
    <p class="sctext">SHOPPING CART</p>
    <div id="scBox" class="shoppingcart">
    
    </div>
  </div>

  <div id="menu">
    <ul id="nav">
    <li id="itemMenu"><a href="#"> Item > </a>
      <ul>
        <li><a href="#">Create Item</a></li>
        <li><a href="edititem.html">Edit Item</a></li>
      </ul>
      <div class="clear"></div>
    </li>

    <li id="userMenu"><a href="#"> User > </a>
      <ul>
        <li><a href="createuser.html">Create User</a></li>
        <li><a href="edituser.html">Edit User</a></li>
        <li><a href="changepassword.html">Change Password</a></li>
      </ul>
      <div class="clear"></div>
    </li>
    
    <li id="supplierMenu"><a href="#"> Supplier > </a>
      <ul>
        <li><a href="createsupp.html">Create Supplier</a></li>
        <li><a href="editsupplier.html">Edit Supplier</a></li>

      </ul>
      <div class="clear"></div>
    </li>
    
    <li id="poMenu"><a href="#"> Purchase Order > </a>
      <ul>
        <li><a href="createpo.html">Create Purchase Order</a></li>
        <li><a href="modifypo.html">Edit Purchase Order</a></li>
        <li><a href="viewpo.html">View Purchase Order</a></li>
        <li><a href="receivepo.html">Receive Purchase Order</a></li>
        <li><a href="returnpo.html">Return Purchase Order</a></li>
      </ul>			
      <div class="clear"></div>
    </li>
    
    <li id="searchMenu"><a href="search.html">Search</a></li>
    <li id="shoppingCartMenu"><a href="shoppingcart.html">Shopping Cart</a></li>
    <li id="viewLogMenu"><a href="viewlog.html">View Log</a></li>
    
    </ul>

  </div>

  <div id="wrapper">
    <h2 class="bigfont">Item</h2><br />
      
    <div id="wrapper-bgtop">
      <h3>Create Item</h3><br/>
        
        <div id="page">

				  <div id="content">
            <form id="createItemForm">
            <table id="createItemTable">
              <tr>
                <td>Item Name:</td>
                <td><input type="text" value="" name="ItemName" id="itemName"/></td>
              </tr>
              <tr>
                <td>Receipt Name:</td>
                <td><input type="text" value="" name="ReceiptName" id="receiptName"/></td>
              </tr>
              <tr>
                <td>Item Category:</td> <!-- Auto populated -->
                <td><select name="itemCategory" id="iCategoryBox">
                  <option value="meat">Meat</option>
                  <option value="cheese">Cheese</option>
                  <option value="fish">Fish</option>
                  </select>
                </td>
              </tr>
              <tr>
                <td>Item Type:</td> <!-- Auto populated -->
                <td><select name="itemType" id="iTypeBox">
                    <option value="market">Market</option>
                    <option value="bistro">Bistro</option>
                    <option value="catering">Catering</option>
                    </select>
                </td>
              </tr>
              <tr>
                <td>Supplier:</td> <!-- Auto populated -->
                <td><select name="itemSupplier" id="iSupplierBox">
                    <option value="supp1">SupplierA</option>
                    <option value="supp2">SupplierB</option>
                    <option value="supp3">SupplierC</option>
                    </select>
                </td>
              </tr>
              <tr>
                <td>Comments:</td>
                <td><textarea rows="4" cols="20" name="ItemComments" id="itemComments"></textarea></td>
              </tr>
              <tr>
                <td>Item Price:</td>
                <td><input type="text" value="$" name="ItemPrice" id="itemPrice"/></td>
              </tr>
              <tr>
                <td>Unit:</td>
                <td><input type="text" value="" name="ItemName" id="itemName"/></td>
              </tr>
              <tr>
                <td><input value="Clear" type="reset" name="CancelButton" id="cancelBtn"/></td>
                <td><input value="Save" type="submit" name="SaveButton" id="saveBtn"/></td>
              </tr>
            </table>
            </form>
          </div> <!-- Content -->
        </div><!-- Page -->
    </div><!-- Wrapper-BgTop -->
      
    <br />
    <div id="footer-bgcontent">
        <br />
    </div>
  </div> <!-- Wrapper -->
  
</body>
</html> 
