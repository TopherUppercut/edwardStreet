<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<link rel="stylesheet" type="text/css" href="style.css" />
<title>Edward Street - Create Supplier</title>
<script type="text/javascript" src="js/jquery-1.7.js"></script>
<script>
// Add a listenter for the submit button
document.addEventListener( "DOMContentLoaded", function( event ) {

    var button = document.getElementById( "savBtn" );
    button.addEventListener( "click", function( event ) {

    $.ajax({
      cache: false,
      url: "http://96.126.109.151:8080/addsupplier",
      data: {
        suppName: document.getElementById( "suppName" ).value,
        leglName: document.getElementById( "leglName" ).value,
        addrs: document.getElementById( "addrs" ).value,
        contctNumber: document.getElementById( "contctNumber" ).value,
        leadTime: document.getElementById( "leadTime" ).value,
        
        // Is this valid? getElementByName
        DeliveryDates: document.getElementByName( "DeliveryDates" ).value,
        SupplierComments: document.getElementByName( "SupplierComments" ).value,
        SpecialComments: document.getElementByName( "SpecialComments" ).value,

        loginID: document.getElementById( "loginID" ).value,
        pwd: document.getElementById( "pwd" ).value,
        emailAddr: document.getElementById( "emailAddr" ).value
      },
      success: function( response, code, xhr ) {

        // The supplier has been added successfully
      }
    });
   }, false );
  }, false );
</script>
<script type="text/javascript" src="js/validation.js"></script>
<script type="text/javascript">
    document.addEventListener("DOMContentLoaded", function (event) {

        document.getElementById("savBtn").addEventListener("click", function (event) {

            // input elements
            var $inputs = $('#page :input');
            // div space for message
            var $msgs = $('#page').children("div");
            // array holding $inputs 
            var values = [];
            // array holding $msgs
            var displays = [];
            // initializing string for use in .each for $msgs and $inputs
            var string1, string2;
            // int variables used to iterate in .each for $msgs and $inputs 
            var i = 0;
            var j = 0;

            // gets each $msg element and pushes to array called displays
            $msgs.each(function () {

                string2 = $msgs.get(j).tagName;
                j = j + 1;
                var text2 = $(this).attr('id');
                displays.push(text2);
            });

            //            $inputs.each(function () {
            //                string1 = $inputs.get(i).tagName;
            //                i = i + 1;
            //                var text = $(this).attr('id');
            //                values.push(text);
            //            });

            // each validation to validate certain rules
            validation = window.edwardValidationRequired;
            validation2 = window.edwardValidationPhoneNum;
            validation3 = window.edwardValidationDate;
            validation4 = window.edwardValidationUser;
            validation5 = window.edwardValidationPassOne;
            validation6 = window.edwardValidationEmail;

            // used for individual validation
            var phoneNumber = $("#cntctNumber").val();
            var leadTime = $("#leadTime").val();
            var loginID = $("#loginID").val();
            var pass = $("#pwd").val();
            var emailAddr = $("#emailAddr").val();

            // array for storing fields that are empty
            var getBadArray = [];

            // Gets each $inputs element and pushes to array called values
            // Aslo, it adds each input element that is empty
            // to an array that stores inputs that are empty
            $inputs.each(function () {
                string1 = $inputs.get(i).tagName;
                i = i + 1;
                var text = $(this).attr('id');
                values.push(text);
                if ($(this).val().length == 0) {
                    txt = $(this).attr('id');
                    getBadArray.push(txt);

                }
            });

            // For loop to determine each input box by calling validateGeneral
            // and checking each input box whether it is part of the array that
            // holds empty textboxes
            for (var i = 0; i < displays.length; i++) {
                if (validation.validateGeneral(values) || jQuery.inArray(values[i], getBadArray) == -1) {
                    $('#' + displays[i]).html("RIGHT");
                }
                else {
                    $('#' + displays[i]).html("Missing required field");
                }

            }
            // Validate the phone number
            if (validation2.validatePhoneNum(phoneNumber)) {
                $('#phNumValid').html("valid phone number");
            }
            else {
                $('#phNumValid').html("Not a valid phone number!");
            }

            // Validate the date
            if (validation3.validateDate(leadTime)) {
                $('#leadTimeValid').html("Date is valid");
            }
            else {
                $('#leadTimeValid').html("Date not valid!");
            }

            // Validate the user id
            if (validation4.validateUserName(loginID) {
                $('#userValid').html("Login ID is valid");
            }
            else {
                $('#userValid').html("Login ID is not valid!");
            }

            // Validate the password
            if (validation5.validatePassOne(pass)) {
                $('#passValid').html("Password is valid");
            }
            else {
                $('#passValid').html("password is not valid!");
            }

            // Validate the email
            if (validation6.validateEmail(emailAddr)) {
                $('#emailValid').html("Email is valid");
            }
            else {
                $('#emailValid').html("Email is not valid!");
            }

        }, false);

        $('#nav li').hover(
		function () {
		    //show its submenu
		    $('ul', this).show();
		},
		function () {
		    //hide its submenu
		    $('ul', this).hide();
		}
	);

    }, false);

$(window).scroll(function () {
    if ($(window).scrollTop() > $(".scrollTrigger").offset({ scroll: false }).top) {
        $("#header").css("position", "fixed");
        $("#header").css("top", "0");
        $("#menu").css("position", "fixed");
        $("#menu").css("left", "379px");
        $("#menu").css("bottom", "470px");
    }
    // Revert back to normal
    if ($(window).scrollTop() <= $(".scrollTrigger").offset({ scroll: false }).top) {
        $("#header").css("position", "relative");
        $("#header").css("top", $(".scrollTrigger").offset);
        $("#menu").css("position", "relative");
        $("#menu").css("top", $(".scrollTrigger").offset);
        $("#menu").css("left", "0px");
        $("#menu").css("bottom", "0px");
    }
});
	</script>
</head>

<body>
  <div id="header">
    <div id="logo">
      <h1 class="headings"><a href="index.html">Edward Street</a></h1>
    </div>
    <p class="textright"><a class="textright" href="login.html">Log in</a></p>
    <p class="sctext">SHOPPING CART</p>
    <div id="scBox" class="shoppingcart">
    
    </div>
  </div>

  <div id="menu">
    <ul id="nav" class="menuitem">
    <li id="itemMenu" class="blacklink"><a href="#"> Item > </a>
      <ul>
        <li class="blacklink"><a href="createitem.html">Create Item</a></li>
        <li class="blacklink"><a href="edititem.html">Edit Item</a></li>
      </ul>
      <div class="clear"></div>
    </li>

    <li id="userMenu" class="blacklink"><a href="#"> User > </a>
      <ul>
        <li class="blacklink"><a href="createuser.html">Create User</a></li>
        <li class="blacklink"><a href="edituser.html">Edit User</a></li>
        <li class="blacklink"><a href="changepassword.html">Change Password</a></li>
      </ul>
      <div class="clear"></div>
    </li>
    
    <li id="supplierMenu" class="blacklink"><a href="#"> Supplier > </a>
      <ul>
        <li class="blacklink"><a href="#">Create Supplier</a></li>
        <li class="blacklink"><a href="editsupplier.html">Edit Supplier</a></li>

      </ul>
      <div class="clear"></div>
    </li>
    
    <li id="poMenu" class="blacklink"><a href="#"> Purchase Order > </a>
      <ul>
        <li class="blacklink"><a href="createpo.html">Create Purchase Order</a></li>
        <li class="blacklink"><a href="modifypo.html">Edit Purchase Order</a></li>
        <li class="blacklink"><a href="viewpo.html">View Purchase Order</a></li>
        <li class="blacklink"><a href="receivepo.html">Receive Purchase Order</a></li>
        <li class="blacklink"><a href="returnpo.html">Return Purchase Order</a></li>
      </ul>			
      <div class="clear"></div>
    </li>
    
    <li id="searchMenu" class="blacklink"><a href="search.html">Search</a></li>
    <li id="shoppingCartMenu" class="blacklink"><a href="shoppingcart.html">Shopping Cart</a></li>
    <li id="viewLogMenu" class="blacklink"><a href="viewlog.html">View Log</a></li>
    
    </ul>

	</div>
    <div class="scrollTrigger"></div>

<div id="wrapper">
	<h2 class="bigfont">Supplier</h2><br />
		
	<div id="wrapper-bgtop">
		<h3>Create Supplier</h3><br/>
			
			<div id="page">
				
				<label for="suppName">Supplier Name</label> <input type="text" value="" name="SupplierName" id="suppName"/><br/>
				<div id="suppValid"></div>
				
				<label for="legName">Legal Name</label> <input type="text" value="" name="LegalName" id="legName"/><br/>
				<div id="legNamValid"></div>
				
				<label for="addrs">Address</label> <input type="text" value="" name="Address" id="addrs"/><br/>
				<div id="addrValid"></div>
				
				<label for="cntctNumber">Contact Number</label> <input type="text" value="" name="ContactNumber" id="cntctNumber"/><br/>
				<div id="phNumValid"></div>
				
				<label for="leadTime">Lead Time</label> <input type="text" value="" name="LeadTime" id="leadTime"/><br/>
				<div id="leadTimeValid"></div>

                <label for="delivDates">Delivary Dates</label> <textarea id="delivDates" rows="3" cols="20" name="DeliveryDates"></textarea><br/>
                <div id="delivdatevalid"></div>

                <label for="loginID">Login ID</label> <input type="text" value="" name="LoginID" id="loginID"/><br/>
				<div id="userValid"></div>

                <label for="pwd">Password</label> <input type="password" value="" name="Pass" id="pwd"/><br/>
				<div id="passValid"></div>

                <label for="emailAddr">Email address</label> <input type="text" value="" name="EmailAddress" id="emailAddr"/><br/>			
				<div id="emailValid"></div>
			</div>
			
				<label for="suppComm">Supplier Comments</label> <textarea id="suppComm" rows="3" cols="20" name="SupplierComments"></textarea><br/>
				<label for="otherComm">Other Comments</label> <textarea id="otherComm" rows="3" cols="20" name="SpecialComments"></textarea><br/>
			
      <div id="content">
						
				</div>
      <input class="submitbutton" value="Save" type="submit" name="SaveButton" id="savBtn"/>
      <input value="Cancel" type="reset" name="CancelButton" id="cancelBtn"/>
	</div>
<div>


</div>
<br />
<div id="footer-bgcontent">
<br />
</div>
</div>


</body>

</html> 
