<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<link rel="stylesheet" type="text/css" href="style.css" />
<title>Edward Street</title>
<script type="text/javascript" src="js/jquery.js"></script>

<script>
// Show all suppliers, also modify selected supplier
// Selection is not implemented yet

  document.addEventListener( "DOMContentLoaded", function( event ) {

    $.ajax({
      cache: false,
      url: "http://localhost:8080/viewsupplier",
      data: {
        hash: getCookie( "EDST_H" )
      },
      success: function( response, code, xhr ) {

        var table = document.getElementById( "suppTable" );

        response = JSON.parse( response );

        var addRow = function( count ) {
          var row = table.insertRow( count + 1 ),
          data = response[ count ],
          count = 0;

          for( var item in data ) {
            row.insertCell( count ).innerHTML = data[ item ];
          }
        }

        for( var i = 0, len = response.length; i < len; i ++ ) {
          addRow( i );
        }
      }
    });
    
    // Edit the selected supplier
    var button = document.getElementById( "savBtn" );
    button.addEventListener( "click", function( event ) {

    $.ajax({
      cache: false,
      url: "http://localhost:8080/addsupplier",
      data: {
        usrName: document.getElementById( "usrName" ).value,
        roleBox: document.getElementById( "roleBox" ).value,
        suppName: document.getElementById( "suppName" ).value,
        leglName: document.getElementById( "leglName" ).value,
        addrs: document.getElementById( "addrs" ).value,
        contact: document.getElementById( "contact" ).value,
        leadTime: document.getElementById( "leadTime" ).value,
        datesofdelivery: document.getElementById( "datesofdelivery" ).value,
        
        // Is this valid? getElementByName
        suppComment: document.getElementByName( "suppComment" ).value,
        otherComments: document.getElementByName( "otherComment" ).value,
        
      },
      success: function( response, code, xhr ) {

        // The supplier has been added successfully
      }
    });
    
  }, false );
</script>

<script type="text/javascript">
    $(document).ready(function () {

        $('#nav li').hover(
		function () {
		    //show its submenu
		    $('ul', this).show();
		},
		function () {
		    //hide its submenu
		    $('ul', this).hide();
		}
	);

    });
	</script>
</head>

<body>
  <div id="header">
    <div id="logo">
      <h1><a href="index.html">Edward Street</a></h1>
    </div>
    <p class="textright"><a class="textright" href="login.html">Log in</a></p>
    <p class="sctext">SHOPPING CART</p>
    <div id="scBox" class="shoppingcart">
    
    </div>
  </div>

  <div id="menu">
    <ul id="nav">
    <li id="itemMenu"><a href="#"> Item > </a>
      <ul>
        <li><a href="createitem.html">Create Item</a></li>
        <li><a href="edititem.html">Edit Item</a></li>
      </ul>
      <div class="clear"></div>
    </li>

    <li id="userMenu"><a href="#"> User > </a>
      <ul>
        <li><a href="createuser.html">Create User</a></li>
        <li><a href="edituser.html">Edit User</a></li>
        <li><a href="changepassword.html">Change Password</a></li>
      </ul>
      <div class="clear"></div>
    </li>
    
    <li id="supplierMenu"><a href="#"> Supplier > </a>
      <ul>
        <li><a href="createsupp.html">Create Supplier</a></li>
        <li><a href="#">Edit Supplier</a></li>

      </ul>
      <div class="clear"></div>
    </li>
    
    <li id="poMenu"><a href="#"> Purchase Order > </a>
      <ul>
        <li><a href="createpo.html">Create Purchase Order</a></li>
        <li><a href="modifypo.html">Edit Purchase Order</a></li>
        <li><a href="viewpo.html">View Purchase Order</a></li>
        <li><a href="receivepo.html">Receive Purchase Order</a></li>
        <li><a href="returnpo.html">Return Purchase Order</a></li>
      </ul>			
      <div class="clear"></div>
    </li>
    
    <li id="searchMenu"><a href="search.html">Search</a></li>
    <li id="shoppingCartMenu"><a href="shoppingcart.html">Shopping Cart</a></li>
    <li id="viewLogMenu"><a href="viewlog.html">View Log</a></li>
    
    </ul>

  </div>

<div id="wrapper">
	<h2 class="bigfont">Maintain User Profile</h2><br />
		
	<div id="wrapper-bgtop">
		<h3>Edit Supplier Profile</h3><br/>
			
			<div id="page">
				<p>
				Address <input type="text" value="" name="Address" id="addrs"/><br/>
				Contact <input type="text" value="" name="Contact" id="contact"/><br/>
				Delivery Dates <textarea name="DeliveryDate" id="datesOfDelivery" rows="3" cols="10"></textarea><br/>
				Lead Time <input type="text" value="" name="LeadTime" id="leadTm"/><br/>
				Supplier Comment <textarea name="SupplierComment" id="suppComment" rows="3" cols="10"></textarea><br/>
				<input value="Save" type="submit" name="SaveButton" id="savBtn"/>
				<input value="Cancel" type="reset" name="CancelButton" id="cancelBtn"/>				
				<br/>
				
				</p><br/>
        <hr/>
        Select user to edit:
				<table border="1" id="suppTable">
  					<tr>
    						<th>Login Name</th>
    						<th>Role</th>
    						<th>Supplier Name</th>
						<th>Legal Name</th>
						<th>Address</th>
						<th>Contact</th>
						<th>Delivery Dates</th>
						<th>Lead Time</th>
						<th>Supplier Comment</th>
						<th>Other Comment</th>
    						<th>Selected</th>
  					</tr>
  					<tr>
    						<td></td>
						<td></td>
    						<td></td>
    						<td></td>
    						<td></td>
    						<td></td>
    						<td></td>
    						<td></td>
    						<td></td>
    						<td></td>
    						<td><input value="selectedItem" type="checkbox" name="SelectItem" id="selItem"/></td>
  					</tr>
					</table>
				<br/>
				<p>
				LoginName <input type="text" value="" name="UserName" id="usrName"/><br/>
				Role
					<select name="RoleBox" id="roleBox">
  						<option value="buyer">Buyer</option>
  						<option value="receiver">Receiver</option>
  						<option value="shipper">Shipper</option>
  						<option value="admin">Admin</option>
					</select><br/>
				Supplier Name<input type="text" value="" name="SupplierName" id="suppName"/><br/>
				Legal Name <input type="text" value="" name="LegalName" id="leglName"/><br/>
				Address <input type="text" value="" name="Address" id="addrs"/><br/>
				Contact <input type="text" value="" name="Contact" id="contact"/><br/>
				Delivery Dates <textarea name="DeliveryDateText" id="datesofdelivery" rows="3" cols="10"></textarea><br/>
				Lead Time <input type="text" value="" name="LeadTime" id="leadTime"/><br/>
				Supplier Comment <textarea name="SupplierComment" id="suppComment" rows="3" cols="10"></textarea><br/>
				Other Comment <textarea name="OtherComment" id="otherComment" rows="3" cols="10"></textarea><br/>
				<input value="Save" type="submit" name="SaveButton" id="savBtn"/>
				<input value="Cancel" type="reset" name="CancelButton" id="cancelButton"/>				
				<br/>
				
				</p><br/>

				<div id="content">
						
				</div>
			</div>
	</div>
<div>


</div>
<br />
<div id="footer-bgcontent">
<br />
</div>
</div>


</body>

</html> 
