<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <link rel="stylesheet" type="text/css" href="style.css" />
  <title>Edward Street - Edit Item</title>
  <script type="text/javascript" src="js/jquery.js"></script>
  <!-- <script type="text/javascript" src="login.js"></script> -->
  <script type="text/javascript">
    document.addEventListener( "DOMContentLoaded", function( event ) {

    $.ajax({
      cache: false,
      url: "http://localhost:8080/viewsupplier",
      data: {
        hash: getCookie( "EDST_H" )
      },
      success: function( response, code, xhr ) {

        var table = document.getElementById( "suppTable" );

        response = JSON.parse( response );

        var addRow = function( count ) {
          var row = table.insertRow( count + 1 ),
          data = response[ count ],
          count = 0;

          for( var item in data ) {
            row.insertCell( count ).innerHTML = data[ item ];
          }
        }

        for( var i = 0, len = response.length; i < len; i ++ ) {
          addRow( i );
        }
      }
    });
    
    // Edit the selected supplier
    var button = document.getElementById( "savBtn" );
    button.addEventListener( "click", function( event ) {
      $.ajax({
        cache: false,
        url: "http://localhost:8080/addsupplier",
        data: {
          usrName: document.getElementById( "usrName" ).value,
          roleBox: document.getElementById( "roleBox" ).value,
          suppName: document.getElementById( "suppName" ).value,
          leglName: document.getElementById( "leglName" ).value,
          addrs: document.getElementById( "addrs" ).value,
          contact: document.getElementById( "contact" ).value,
          leadTime: document.getElementById( "leadTime" ).value,
          datesofdelivery: document.getElementById( "datesofdelivery" ).value,
          
          // Is this valid? getElementByName
          suppComment: document.getElementByName( "suppComment" ).value,
          otherComments: document.getElementByName( "otherComment" ).value,
        },
        success: function( response, code, xhr ) {
          // The supplier has been added successfully
        }
      });
    }, false );    

    $(document).ready(function () {
      $('#nav li').hover(
        function () {
          //show its submenu
          $('ul', this).show();
        },
        function () {
          //hide its submenu
          $('ul', this).hide();
        }
      );
    });});
	</script>
</head>

<body>
  <div id="header">
    <div id="logo">
      <h1><a href="index.html">Edward Street</a></h1>
    </div>
    <p class="textright"><a class="textright" href="login.html">Log in</a></p>
    <p class="sctext">SHOPPING CART</p>
    <div id="scBox" class="shoppingcart">
    
    </div>
  </div>

  <div id="menu">
    <ul id="nav">
    <li id="itemMenu"><a href="#"> Item > </a>
      <ul>
        <li><a href="createitem.html">Create Item</a></li>
        <li><a href="edititem.html">Edit Item</a></li>
      </ul>
      <div class="clear"></div>
    </li>

    <li id="userMenu"><a href="#"> User > </a>
      <ul>
        <li><a href="createuser.html">Create User</a></li>
        <li><a href="edituser.html">Edit User</a></li>
        <li><a href="changepassword.html">Change Password</a></li>
      </ul>
      <div class="clear"></div>
    </li>
    
    <li id="supplierMenu"><a href="#"> Supplier > </a>
      <ul>
        <li><a href="createsupp.html">Create Supplier</a></li>
        <li><a href="#">Edit Supplier</a></li>

      </ul>
      <div class="clear"></div>
    </li>
    
    <li id="poMenu"><a href="#"> Purchase Order > </a>
      <ul>
        <li><a href="createpo.html">Create Purchase Order</a></li>
        <li><a href="editpo.html">Edit Purchase Order</a></li>
        <li><a href="viewpo.html">View Purchase Order</a></li>
        <li><a href="receivepo.html">Receive Purchase Order</a></li>
        <li><a href="returnpo.html">Return Purchase Order</a></li>
      </ul>			
      <div class="clear"></div>
    </li>
    
    <li id="searchMenu"><a href="search.html">Search</a></li>
    <li id="shoppingCartMenu"><a href="shoppingcart.html">Shopping Cart</a></li>
    <li id="viewLogMenu"><a href="viewlog.html">View Log</a></li>
    
    </ul>

  </div>

  <div id="wrapper">
    <h2 class="bigfont">Supplier</h2><br />
      
    <div id="wrapper-bgtop">
      <h3>Edit Supplier</h3><br/>
        
        <div id="page">
          
          <table>
          <tr>
            <td>Search: <input value="" type="text" name="SearchText" id="searchText"/></td>
            <td>By:
              <select name="searchDetails" id="searchDetails">
                <option value="supplierName" selected="selected">Supplier Name</option>
                <option value="legalName">Legal Name</option>
                <option value="supplierContact">Supplier Contact</option>
                <option value="supplierAddress">Supplier Address</option>
                <option value="contactNumber">Contact Number</option>
                <option value="leadTime">Lead Time</option>
              </select>
            </td>
          </tr>
          <tr>
            <td><input value="Search" type="submit" name="SubmitButton" id="submitBtn"/>OR
            <input value="View All" type="submit" name="ViewAllButton" id="viewAllBtn"/></td>
          </tr>
          </table>
          
          <br/><hr/><br/>
          Results:
          <br/><br/>
          <table border="1" id="supplierTable">
            <tr>
              <th width="9%">Login Name</th>
              <th width="9%">Supplier Name</th>
              <th width="9%">Legal Name</th>
              <th width="9%">Email Address</th>
              <th width="9%">Supplier Address</th>
              <th width="9%">Contact Number</th>
              <th width="9%">Lead Time</th>

              <th width="9%">Delivery Dates</th>
              <th width="9%">Supplier Comments</th>
              <th width="9%">Misc. Comments</th>

              <th width="9%">Edit</th>
            </tr>
            <tr>
              <td></td>
              <td></td>
              <td></td>
              <td></td>
              <td></td>
              <td></td>
              <td></td>
              <td><textarea id="deliveryDates" name="DeliveryDates" cols="6" rows="2" readonly="readonly"></textarea></td>
              <td><textarea id="supplierComments" name="SupplierComments" cols="6" rows="2" readonly="readonly"></textarea></td>
              <td><textarea id="miscComments" name="MiscComments" cols="6" rows="2" readonly="readonly"></textarea></td>
              <td><input value="selectedItem" type="checkbox" name="SelectSupplier" id="selectSupplier"/></td>
            </tr>
          </table>

          <br/><br/><hr/><br/><br/>
          
          <div id="content">
            
            <form id="createSupplierForm">
            <table id="createSupplierTable">
              <tr>
                <td>Supplier Name:</td>
                <td><input type="text" value="" name="SupplierName" id="supplierName"/></td>
              </tr>
              <tr>
                <td>Legal Name:</td>
                <td><input type="text" value="" name="LegalName" id="legalName"/></td>
              </tr>
              <tr>
                <td>Supplier Address:</td>
                <td><input type="text" value="" name="SupplierAddress" id="supplierAddress"/></td>
              </tr>
              <tr>
                <td>Contact Number:</td>
                <td><input type="text" value="" name="ContactNumber" id="contactNumber"/></td>
              </tr>
              <tr>
                <td>Lead Time:</td>
                <td><input type="text" value="" name="LeadTime" id="leadTime"/></td>
              </tr>
              <tr>
                <td>Delivery Dates:</td>
                <td><textarea rows="4" cols="20" name="DeliveryDates" id="deliveryDates"></textarea></td>
              </tr>
              <tr>
                <td>Supplier Comments:</td>
                <td><textarea rows="4" cols="20" name="SupplierComments" id="supplierComments"></textarea></td>
              </tr>
              <tr>
                <td>Misc. Comments:</td>
                <td><textarea rows="4" cols="20" name="MiscComments" id="miscComments"></textarea></td>
              </tr>
              <tr>
                <td>Login Name:</td>
                <td><input type="text" value="" name="LoginName" id="loginName"/></td>
              </tr>
              <tr>
                <td>Password:</td>
                <td><input type="text" value="" name="SupplierPassword" id="supplierPassword"/></td>
              </tr>
              <tr>
                <td>Email Address:</td>
                <td><input type="text" value="" name="EmailAddress" id="emailAddress"/></td>
              </tr>
              <tr>
                <td><input value="Clear" type="reset" name="CancelButton" id="cancelBtn"/></td>
                <td><input value="Save" type="submit" name="SaveButton" id="saveBtn"/>OR
                <input value="Delete" type="submit" name="DeleteButton" id="deleteBtn"/></td>
              </tr>
            </table>
            </form>
          </div> <!-- Content -->
        </div><!-- Page -->
    </div><!-- Wrapper-BgTop -->
      
    <br />
    <div id="footer-bgcontent">
        <br />
    </div>
  </div> <!-- Wrapper -->
  
</body>
</html> 
